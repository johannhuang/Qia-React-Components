!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.QiaDataTable=t(require("react")):e.QiaDataTable=t(e.React)}(self,(function(e){return(()=>{"use strict";var t={359:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{r.d(o,{default:()=>b});var e=r(359),t=r.n(e);function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var f,d,y,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var r,o,a,f,d,y=(f=p,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(f);if(d){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=y.call(this)).state={},e}return r=p,a=[{key:"renderTableCellData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";switch(i(e)){case"function":break;case"object":n=JSON.stringify(e);break;default:n=e}return void 0!==t.maxLength&&n.length>t.maxLength&&(n=n.slice(0,t.maxLength),t.textOverflow)&&("ellipsis"===t.textOverflow?n+="...":n+=t.textOverflow),n}},{key:"renderTable",value:function(e,r){var o=n(e.map((function(e,t){return[e._style.order||t,t]}))).sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]})),a="calc(0px)";o.forEach((function(t,n){var r=e[t];"left"===r.fixed&&(r._style.position="sticky",r._style.left=a,a="calc(".concat(a.slice(5,-1)," + ").concat(r._style.width||r._style.minWidth,")"))}));var i="calc(0px)";n(o).reverse().forEach((function(t,n){var r=e[t];"right"===r.fixed&&(r._style.position="sticky",r._style.right=i,i="calc(".concat(i.slice(5,-1)," + ").concat(r._style.width||r._style.minWidth,")"))}));var l="calc(".concat(e.map((function(e){return e._style.minWidth||e._style.width})).join(" + "),")");return t().createElement("div",{className:"table",style:{minWidth:"calc(".concat(a.slice(5,-1)," + ").concat(i.slice(5,-1),")"),overflow:"auto"}},t().createElement("div",{style:{minWidth:l}},t().createElement("div",{className:"header",style:{minWidth:l}},t().createElement("div",{className:"row",style:{display:"flex",minWidth:l}},e.map((function(e,n){return t().createElement("span",{key:e.key||n,className:"cell",style:e._style},e.title||e.key)})))),t().createElement("div",{className:"body",style:{minWidth:l}},r.map((function(n,r){return t().createElement("div",{key:n.id||r,className:"row",style:{display:"flex",minWidth:l}},e.map((function(e,r){return t().createElement("span",{key:e.key||r,className:"cell",style:e._style},p.renderTableCellData(n[e.key],e))})))})))))}}],(o=[{key:"render",value:function(){var e=this.props.config||{},n=this.props.columns.map((function(t,n){return Object.assign({},t,{_style:Object.assign({},t.width?{width:t.width,minWidth:void 0,flexGrow:0,flexShrink:0,flexBasis:t.width}:{minWidth:"".concat((e.unitLength||90)*(t.size||0),"px"),flexGrow:t.size||0,flexShrink:0,flexBasis:"".concat(10*(t.size||0),"%")},t.height?{height:t.height}:{})})})),r=this.props.dataRecords;return t().createElement("div",{className:"qia-data-table ".concat(this.props.className||"")},t().createElement("style",null,p.style),t().createElement("style",{dangerouslySetInnerHTML:{__html:"\n          .qia-data-table {\n            color: #212121;\n          }\n        "}}),t().createElement("style",null,"\n          .qia-data-table {\n            background-color: #efefef;\n            /* NOTE: 20210317, there is still background and border issue - some related links: https://stackoverflow.com/questions/45497031/make-background-color-extend-into-overflow-area */\n            /* NOTE: 20210317, important to set overflow to enable resize - the default visible doesn't work with resize */\n            overflow: auto;\n            resize: both;\n            width: 560px;\n          }\n\n          .qia-data-table .table-container {\n            padding: 1em;\n            border: 1px solid blue;\n            overflow: auto;\n          }\n\n          /* NOTE: 20210318, no horizontal margin, border and padding width should be given to .table, .header, .body and .row because of the design of left, center and reight */\n          .qia-data-table .cell {\n            /* border: 1px solid green; */\n            padding: 0.3em;\n\n            /* overflow-wrap: anywhere; */\n            /* word-break: normal; */\n            word-break: break-word;\n            /* overflow-wrap: break-word; */\n            /* word-break: break-all; */\n          }\n          .qia-data-table .header .cell {\n            background-color: grey;\n          }\n          .qia-data-table .body .cell {\n            background-color: white;\n          }\n          .qia-data-table .body .row:not(:last-of-type) .cell {\n            border-bottom: 1px solid grey;\n          }\n        "),t().createElement("div",{className:"table-container",style:{}},p.renderTable(n,r,e)))}}])&&l(r.prototype,o),a&&l(r,a),p}(t().Component);y="\n.qia-data-table {\n  border: 1px solid green;\n  padding: 1em;\n}\n",(d="style")in(f=p)?Object.defineProperty(f,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[d]=y;const b=p})(),o.default})()}));